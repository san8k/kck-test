(function(e){function t(t){for(var i,o,r=t[0],l=t[1],c=t[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={app:0},s=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("delivery")],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"delivery"},[n("h1",{staticClass:"delivery__title"},[e._v("Выберите способ доставки")]),n("div",{staticClass:"delivery__content delivery__content--desktop"},[n("tabs",{attrs:{tabs:e.tabsList,activeTab:e.contentType},on:{changeTab:e.changeTab}}),n(e.currentTabContent,{tag:"component"})],1),n("div",{staticClass:"delivery__content delivery__content--mobile"},e._l(e.tabsList,(function(t,i){return n("div",{key:t.id,staticClass:"delivery-mobile-block",class:{"delivery-mobile-block--is-opened":e.contentType===t.id}},[n("div",{staticClass:"delivery-mobile-block__header",class:{"delivery-mobile-block__header--is-collapsed":e.contentType!==t.id&&i!==e.tabsList.length-1},on:{click:function(n){return e.changeTab(t)}}},[n("p",{staticClass:"delivery-mobile-block__title"},[e._v(e._s(t.name))]),n("svg",{staticClass:"delivery-mobile-block__arrow",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10px",height:"6px"}},[n("path",{attrs:{"fill-rule":"evenodd",fill:"#8288a2",d:"M0.007,4.664 L3.559,1.351 L3.559,1.351 L5.000,0.007 L6.441,1.351 L6.441,1.351 L9.993,4.664\n            L8.552,6.008 L5.000,2.696 L1.448,6.008 L0.007,4.664 Z"}})])]),n("div",{staticClass:"delivery-mobile-block__body"},[n(e.getMobileTabContent(t.id),{tag:"component"})],1)])})),0)])},r=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tabs"},e._l(e.tabs,(function(t){return n("div",{key:t.id,staticClass:"tab",class:{"tab--is-active":t.id===e.activeTab},on:{click:function(n){return e.$emit("changeTab",t)}}},[e._v(" "+e._s(t.name)+" ")])})),0)},c=[],d={name:"Tabs",props:{tabs:Array,activeTab:String}},u=d,m=n("2877"),p=Object(m["a"])(u,l,c,!1,null,null,null),v=p.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"delivery-form"},[n("div",{staticClass:"delivery-form__row"},[n("main-input",{attrs:{label:"ФИО","error-message":e.validation.name,half:!0}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.values.name,expression:"values.name"}],staticClass:"input-field",attrs:{placeholder:"Только кириллица"},domProps:{value:e.values.name},on:{blur:function(t){e.requiredFieldsStatus.name=!0},input:function(t){t.target.composing||e.$set(e.values,"name",t.target.value)}}})]),n("main-input",{attrs:{label:"Телефон","error-message":e.validation.phone,half:!0}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.values.phone,expression:"values.phone"},{name:"mask",rawName:"v-mask",value:"+7 (###) ###-##-##",expression:"'+7 (###) ###-##-##'"}],staticClass:"input-field",attrs:{placeholder:"+7 (___) ___-__-__"},domProps:{value:e.values.phone},on:{blur:function(t){e.requiredFieldsStatus.phone=!0},input:function(t){t.target.composing||e.$set(e.values,"phone",t.target.value)}}})])],1),n("div",{staticClass:"delivery-form__row"},[n("main-input",{attrs:{label:"Адрес доставки","error-message":e.validation.address}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.values.address,expression:"values.address"}],staticClass:"input-field",attrs:{placeholder:"Город, улица, дом"},domProps:{value:e.values.address},on:{blur:function(t){e.requiredFieldsStatus.address=!0},input:function(t){t.target.composing||e.$set(e.values,"address",t.target.value)}}})])],1),n("div",{staticClass:"delivery-form__row delivery-form__row--mb40"},[n("main-input",{attrs:{label:"Комментарий","error-message":e.validation.comment}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.values.comment,expression:"values.comment"}],staticClass:"input-field input-field--textarea",domProps:{value:e.values.comment},on:{blur:function(t){e.requiredFieldsStatus.comment=!0},input:function(t){t.target.composing||e.$set(e.values,"comment",t.target.value)}}})])],1),n("div",{staticClass:"delivery-form__row delivery-form__row--reverse delivery-form__row--mb0"},[n("main-button",{attrs:{label:"Отправить",disabled:!e.isValid},on:{"on-click":e.send}})],1)])},h=[],b=(n("a623"),n("b0c0"),n("d3b7"),n("07ac"),n("ac1f"),n("466d"),n("5319"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-container",class:{error:e.errorMessage,"input-container--half":e.half}},[n("p",{staticClass:"input-label",class:{disabled:e.disabled}},[e._v(" "+e._s(e.label)+" ")]),e._t("default"),n("div",{staticClass:"error-message"},[e._v(" "+e._s(e.errorMessage)+" ")])],2)}),_=[],y={name:"MainInput",props:{label:String,errorMessage:{type:String,default:""},disabled:Boolean,half:{type:Boolean,default:!1}}},g=y,k=Object(m["a"])(g,b,_,!1,null,null,null),w=k.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"main-button",class:{disabled:e.disabled},on:{click:function(t){return e.$emit("on-click")}}},[e._v(" "+e._s(e.label)+" ")])},O=[],T={name:"MainButton",props:{label:String,disabled:Boolean}},x=T,M=Object(m["a"])(x,C,O,!1,null,null,null),S=M.exports,j={name:"DeliveryForm",components:{MainInput:w,MainButton:S},data:function(){return{values:{name:"",phone:"",address:"",comment:""},requiredFieldsStatus:{name:!1,phone:!1,address:!1,comment:!1}}},computed:{validation:function(){var e={};if(this.requiredFieldsStatus.name){var t=this.values.name.replace(/[\s-]/g,"");if(t&&t.length){var n=/^[А-Яа-яЁё -]*$/i.test(this.values.name);n||(e.name="Только кириллица, пробел, тире")}else e.name="Обязательное поле"}return this.requiredFieldsStatus.phone&&(this.values.phone&&(this.values.phone.length<11||11!==this.values.phone.match(/\d/g).length)?e.phone="Введите корректный телефон":this.values.phone||(e.phone="Обязательное поле")),this.requiredFieldsStatus.address&&(this.values.address||(e.address="Обязательное поле")),this.requiredFieldsStatus.comment&&!this.values.comment&&(e.comment="Обязательное поле"),e},isValid:function(){return Object.values(this.values).every((function(e){return!!e.length}))&&Object.values(this.validation).every((function(e){return!e}))}},methods:{send:function(){console.log("send delivery request => data:",this.values)}}},L=j,$=Object(m["a"])(L,f,h,!1,null,null,null),P=$.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pickup-map"},[n("div",{staticClass:"pickup-map__radio-container"},e._l(e.optionsList,(function(t,i){return n("main-radio",{key:i,attrs:{item:t,"selected-option-id":e.selectedOptionId},on:{select:e.selectOptionId}})})),1),n("div",{staticClass:"pickup-map__map"},[n("yandex-map",{key:e.deviceKey,attrs:{coords:e.mapDefaultCoords,"show-all-markers":!0,zoom:13,settings:e.settings,controls:["zoomControl"],"scroll-zoom":e.canTouchZoom}},e._l(e.optionsList,(function(t,i){return n("ymap-marker",{key:t.id,attrs:{coords:e.coords[i],"marker-id":t.id,icon:e.markerIcon}})})),1)],1),n("div",{staticClass:"pickup-map__button-container"},[n("main-button",{attrs:{label:"Отправить"},on:{"on-click":e.send}})],1)])},I=[],N=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-radio",class:{"main-radio--active":e.selectedOptionId===e.item.id,"main-radio--disabled":e.disabled},on:{click:e.emitSelect}},[n("div",{staticClass:"main-radio__circle"}),n("div",{staticClass:"main-radio__text"},[e._v(" "+e._s(e.item.name)+" ")])])}),q=[],F=(n("a9e3"),{name:"MainRadio",props:{selectedOptionId:Number,disabled:Boolean,item:Object},data:function(){return{}},methods:{emitSelect:function(){this.$emit("select",this.item.id)}}}),K=F,W=Object(m["a"])(K,N,q,!1,null,null,null),B=W.exports,z=n("f5ce"),Z={name:"PickupMap",components:{MainButton:S,MainRadio:B,yandexMap:z["a"],ymapMarker:z["b"]},data:function(){return{optionsList:[{id:1001,name:"Пункт Выдачи заказов Песчаная улица, дом 13",coords:[55.801131,37.508167]},{id:1002,name:"Пункт Выдачи заказов Подсосенский переулок, 11",coords:[55.757556,37.651592]}],selectedOptionId:1001,settings:{apiKey:"97fd3aa1-1d77-49b6-8906-701867e3451e",lang:"ru_RU",coordorder:"latlong",version:"2.1"},markerIcon:{layout:"default#image",imageHref:"/img/icons/map-marker.svg",imageSize:[38,46],imageOffset:[-20,-46],cursor:"default"},mapDefaultCoords:[55.755814,37.617635],screenWidth:0,canTouchZoom:!0,deviceKey:"desktop"}},computed:{coords:function(){return this.optionsList.map((function(e){return e.coords}))}},created:function(){this.deviceKey=window.innerWidth>767?"desktop":"mobile",this.canTouchZoom=window.innerWidth>767},mounted:function(){window.addEventListener("resize",this.checkScreenWidth)},beforeDestroy:function(){window.removeEventListener("resize",this.checkScreenWidth)},methods:{checkScreenWidth:function(){"desktop"===this.deviceKey&&window.innerWidth<768?(this.deviceKey="mobile",this.canTouchZoom=!1):"mobile"===this.deviceKey&&window.innerWidth>767&&(this.deviceKey="desktop",this.canTouchZoom=!0)},selectOptionId:function(e){this.selectedOptionId=e},send:function(){console.log("send pickup request => post id: ".concat(this.selectedOptionId))}}},A=Z,D=Object(m["a"])(A,E,I,!1,null,"7f47981e",null),R=D.exports,J={name:"Delivery",components:{tabs:v,deliveryForm:P,pickupMap:R},data:function(){return{contentType:"delivery",tabsList:[{id:"delivery",name:"Доставка"},{id:"pickup",name:"Самовывоз"}],CONTENT_MAP:{delivery:P,pickup:R}}},computed:{currentTabContent:function(){return this.CONTENT_MAP[this.contentType]}},methods:{changeTab:function(e){this.contentType=e.id},getMobileTabContent:function(e){return this.CONTENT_MAP[e]}}},V=J,H=Object(m["a"])(V,o,r,!1,null,null,null),U=H.exports,G={name:"App",components:{delivery:U}},Q=G,X=Object(m["a"])(Q,a,s,!1,null,null,null),Y=X.exports,ee=n("b6d0");n("c1c3");i["a"].directive("mask",ee["a"]),i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(Y)}}).$mount("#app")},c1c3:function(e,t,n){}});
//# sourceMappingURL=app.32c50962.js.map